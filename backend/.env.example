# Production Environment Variables
# Copy this file to .env.production and fill in your values
# NEVER commit this file to git!

# ============================================
# REQUIRED VARIABLES - Fill all of these
# ============================================

# Server Configuration
NODE_ENV=production
PORT=3001
API_BASE_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/competition_db

# JWT Secrets (Generate strong random strings)
# Run this command and paste the output:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_256_bit_secret_key_here
JWT_EXPIRES_IN=15m

# Run the command again for this one:
REFRESH_TOKEN_SECRET=your_refresh_token_secret
REFRESH_TOKEN_EXPIRES_IN=30d

# ============================================
# âœ… GMAIL SMTP - FREE, NO CREDIT CARD NEEDED
# ============================================
# HOW TO SETUP (2 minutes):
# 1. Enable 2-Step Verification: https://myaccount.google.com/security
# 2. Generate App Password: https://myaccount.google.com/apppasswords
#    - Select "Mail" and "Other (Custom name)"
#    - Name it: "Competition Platform"
#    - Copy the 16-character password (NOT your Gmail password!)
# 3. Fill in below:

EMAIL_PROVIDER=smtp
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=yourname@gmail.com
SMTP_PASS=your_16_character_app_password
EMAIL_FROM=yourname@gmail.com
EMAIL_FROM_NAME=Your Competition Platform

# ============================================
# ALTERNATIVES (If you don't want Gmail)
# ============================================

# Option 2: SendGrid (Requires credit card for verification)
# EMAIL_PROVIDER=sendgrid
# EMAIL_API_KEY=SG.your_sendgrid_api_key_here
# EMAIL_FROM=noreply@yourdomain.com
# EMAIL_FROM_NAME=Your Competition Platform

# Option 3: AWS SES (Requires AWS account)
# EMAIL_PROVIDER=ses
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# EMAIL_FROM=noreply@yourdomain.com
# EMAIL_FROM_NAME=Your Competition Platform

# ============================================
# REQUIRED - Stripe Payment Processing
# ============================================
# Get your keys from: https://dashboard.stripe.com/apikeys
# Switch to "Live" mode (toggle in top right)

STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# FILE UPLOAD & STORAGE
# ============================================

# Local storage (works fine for starting out)
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880

# AWS S3 (Optional - upgrade when you need it)
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_iam_access_key
# AWS_SECRET_ACCESS_KEY=your_iam_secret_key
# S3_BUCKET_NAME=your-competition-images

# ============================================
# RATE LIMITING
# ============================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# OPTIONAL - Add these later when needed
# ============================================

# Sentry Error Tracking (Get from sentry.io)
# SENTRY_DSN=https://your-sentry-dsn

# Session Secret (Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
# SESSION_SECRET=your_session_secret_here

# ============================================
# ðŸš€ DEPLOYMENT CHECKLIST
# ============================================

# 1. Copy this file: cp .env.example .env.production
# 2. Fill in all the values above
# 3. Generate JWT secrets using the commands above
# 4. Set up Gmail App Password (link above)
# 5. Get Stripe Live keys from dashboard
# 6. chmod 600 .env.production (secure the file)
# 7. Test: npm run dev
# 8. Deploy to server

# ============================================
# ðŸ†˜ TROUBLESHOOTING
# ============================================

# If emails don't work:
# - Make sure you're using App Password (NOT Gmail password)
# - Make sure 2-Step Verification is enabled
# - Check your Gmail spam folder
# - Look at server console for error messages

# Test email:
# curl -X POST http://localhost:3001/api/auth/register \
#   -H "Content-Type: application/json" \
#   -d '{"email":"test@test.com","password":"Test123!","first_name":"Test","last_name":"User"}'
